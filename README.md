# Blackjack

ターミナルで動作するテキストベースのブラックジャックゲーム

## 概要

Rubyで作成された、テキストベースのブラックジャックゲーム。  
あなたと2人のCPU(計3人)がそれぞれ、ディーラーと1対1で戦う。
手札の点数が21以下でディーラーより大きい数になることを目指す。

## 遊び方

### 起動方法

ターミナル上のmain.rbのあるディレクトリで下記のコマンドを実行する
```
ruby main.rb
```

### 遊び方

起動後表示されるテキストの案内に従い、bet金額や行うアクション(Hit,Standなど)を入力して遊びます。

### ゲームの流れ

#### bet

最初の手札が配られる前に掛け金をbetします。  
betできるポイント数は1ポイントから所持しているポイント全額までです。

#### アクション

掛け金を設定し終わった後に最初の手札が配られ、アクションを選択できるようになります。
ディーラーの手札は2枚の内1枚が開示されているのでこれを参考にアクションを決定しましょう。  
選択できるアクションはHit, Stand, Surrender, Double Down, Splitの5つです。
この内HitとStandについては無条件に選択することができますが、Surrender, Double Down, Splitの3つを選択するためにはそれぞれの条件を満たしている必要があります。  
選択できるアクションについては適宜選択肢が表示されます。

#### ディーラー

3人のプレイヤー(あなた、CPU1、CPU2)のアクションが終了するとディーラーの行動が始まります。  
2枚目のカードが開示され、手札の合計スコアが17以上になるまでカードを引き続けます。  
手札の合計スコアが17以上であればディーラーの行動は終了します。

#### 勝敗判定

プレイヤーがbust(手札の合計スコアが22以上の状態)していれば、ディーラーがbustしていてもプレイヤーの負けです。  
プレイヤーがbustせずディーラーがbustしている場合、プレイヤーの勝利です。  
両者がともにbustしていなかった場合、手札の合計スコアが高い方の勝利です。  
合計スコアが同じ場合引き分けになります。

#### 賭けたポイントの処理

勝利した場合、賭けたポイントの2倍のポイントを獲得できます。  
負けた場合、賭けたポイントが返ってきません。  
引き分けの場合は、賭けたポイントがそのまま帰ってきます。  
Surrenderをしていた場合は、賭けたポイントの半分が戻ってきます。

### ルール

#### Surrender

最初の手札が配られたタイミングでのみSurrenderを選択することができます。  
Surrenderをすることによって賭けたポイントの半分をあきらめてゲームから降りることができます。

#### Double Down

手札が2枚の時に選択することができます。  
賭けるポイントを2倍にして、カードを1枚引きDouble Downした手札に対する行動を終了します。

#### Split

最初の手札が同じスコアのカード2枚だった時のみ選択することができます。  
賭けたポイントの同額を新たにbetし、手札を2つに分けそれぞれを独立した手札として勝負することができます。
